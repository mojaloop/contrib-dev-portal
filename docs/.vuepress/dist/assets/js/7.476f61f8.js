(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{308:function(t,a,s){t.exports=s.p+"assets/img/register_config.dfa3ecd2.png"},309:function(t,a,s){t.exports=s.p+"assets/img/select_config.bc4eff38.png"},310:function(t,a,s){t.exports=s.p+"assets/img/user_list.ae47dda2.png"},311:function(t,a,s){t.exports=s.p+"assets/img/transfer_result.aee8d40a.png"},312:function(t,a,s){t.exports=s.p+"assets/img/simulators_ttk_callback.1fdbee5a.png"},361:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"simulators"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#simulators"}},[t._v("#")]),t._v(" Simulators")]),t._v(" "),e("p",[t._v("Refer to "),e("a",{attrs:{href:"https://github.com/mojaloop/mojaloop-simulator",target:"_blank",rel:"noopener noreferrer"}},[t._v("mojaloop-simulator"),e("OutboundLink")],1),t._v(" on GitHub for more information on how the simulators.")]),t._v(" "),e("p",[t._v("This sandbox deploys simulators which allow you to:")]),t._v(" "),e("ol",[e("li",[t._v("Browse users registered with a DFSP")]),t._v(" "),e("li",[t._v("Send from one Party to another in a simple interface")])]),t._v(" "),e("h2",{attrs:{id:"_1-set-up-the-simulator-ui-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-set-up-the-simulator-ui-s"}},[t._v("#")]),t._v(" 1. Set up the Simulator UI(s)")]),t._v(" "),e("ol",[e("li",[t._v("Navigate to the Simulator UI page at "),e("a",{attrs:{href:"http://simulator-ui.beta.moja-lab.live",target:"_blank",rel:"noopener noreferrer"}},[t._v("simulator-ui.beta.moja-lab.live"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v('Select "Settings" in the left bar')])]),t._v(" "),e("h2",{attrs:{id:"_2-register-a-dfsp-backend-and-check-the-users-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-register-a-dfsp-backend-and-check-the-users-list"}},[t._v("#")]),t._v(" 2. Register a DFSP Backend and check the users list")]),t._v(" "),e("p",[t._v("The Simulator UI page talks to a DFSP Simulator Backend behind the scenes.")]),t._v(" "),e("p",[t._v("Before we go any further, we need to tell the simulator UI to connect to a specific Simulator Backend")]),t._v(" "),e("p",[e("img",{attrs:{src:s(308),alt:""}})]),t._v(" "),e("p",[t._v("For example, you can register the Applebank Simulator Backend")]),t._v(" "),e("ul",[e("li",[t._v("name: "),e("code",[t._v("applebank1")])]),t._v(" "),e("li",[t._v("protocol: "),e("code",[t._v("http")])]),t._v(" "),e("li",[t._v("host: "),e("code",[t._v("applebank-backend.beta.moja-lab.live")])]),t._v(" "),e("li",[t._v("port: "),e("code",[t._v("80")])])]),t._v(" "),e("p",[t._v('And hit "Save"')]),t._v(" "),e("p",[t._v('Once you\'ve created that config, make sure to select it in the "Current Setting" in the dropdown')]),t._v(" "),e("p",[e("img",{attrs:{src:s(309),alt:""}})]),t._v(" "),e("p",[t._v("Now you can navigate back to the list of users, and reload your browser. You should see a user list similar to the following:")]),t._v(" "),e("p",[e("img",{attrs:{src:s(310),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"_3-send-a-transfer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-send-a-transfer"}},[t._v("#")]),t._v(" 3. Send a Transfer")]),t._v(" "),e("ol",[e("li",[e("p",[t._v('Select "Outbound Send" on the left menu.')])]),t._v(" "),e("li",[e("p",[t._v('Leave the editor in "Simple Mode"')])]),t._v(" "),e("li",[e("p",[t._v("Leave all the fields the same except for the last, and change this to be a MSISDN you can find in "),e("RouterLink",{attrs:{to:"/1-overview/#what-s-included-in-environment"}},[t._v("the users list here")]),t._v(". For this example, let's enter "),e("code",[t._v("32929423")]),t._v(".")],1)]),t._v(" "),e("li",[e("p",[t._v('Select "Send Transfer"')])])]),t._v(" "),e("h2",{attrs:{id:"_4-transfer-response"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-transfer-response"}},[t._v("#")]),t._v(" 4. Transfer Response")]),t._v(" "),e("p",[t._v("Behind the scenes, the DFSP Simulator uses the sdk-scheme-adapter to talk the Async Mojaloop API, and combines the separate Mojaloop Transfer steps (Discovery, Agreement, Transfer) into 1 step. This is a convenience for the Simulator environment, but can be configured depending on your DFSP's requirements (e.g. confirming Payee information with your user).")]),t._v(" "),e("p",[t._v("Here's a screenshot of an example response from the Simulator Backend:")]),t._v(" "),e("p",[e("img",{attrs:{src:s(311),alt:"the transfer response"}})]),t._v(" "),e("h2",{attrs:{id:"handy-snippets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#handy-snippets"}},[t._v("#")]),t._v(" Handy Snippets:")]),t._v(" "),e("h3",{attrs:{id:"listing-all-of-the-users-for-a-given-simulator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#listing-all-of-the-users-for-a-given-simulator"}},[t._v("#")]),t._v(" Listing all of the users for a given simulator:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dfspid"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("-backend.beta.moja-lab.live/repository/parties "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" jq\n")])])]),e("p",[t._v("Example result:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://payeefsp-backend.beta.moja-lab.live/repository/parties "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" jq\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"displayName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alice Alpaca"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"firstName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alice"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"middleName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"K"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lastName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alpaca"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dateOfBirth"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1970-01-01"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"idType"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MSISDN"')]),t._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"idValue"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456789"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),t._v(" "),e("h3",{attrs:{id:"register-your-own-party-with-mojaloop-simulator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#register-your-own-party-with-mojaloop-simulator"}},[t._v("#")]),t._v(" Register your own Party with Mojaloop + Simulator")]),t._v(" "),e("p",[t._v("First, tell Mojaloop which DFSP they should ask for this Party with "),e("code",[t._v("POST /participants")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST http://beta.moja-lab.live/api/fspiop/participants/MSISDN/639563943094 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Accept: application/vnd.interoperability.participants+json;version=1"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/vnd.interoperability.participants+json;version=1.0"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Date: Fri, 15 Jan 2021 00:00:00 GMT'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FSPIOP-Source: applebank'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -d "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ \n    "fspId": "applebank", \n    "currency": "USD" \n    }\'')]),t._v("\n")])])]),e("p",[t._v("Next, we can register the party information with the "),e("code",[t._v("applebank")]),t._v(" DFSP simulator:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST http://applebank-backend.beta.moja-lab.live/repository/parties "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -d "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n    "displayName": "Jose R.",\n    "firstName": "Jose",\n    "middleName": "R",\n    "lastName": "Rizal",\n    "dateOfBirth": "1970-01-01",\n    "idType": "MSISDN",\n    "idValue": "639563943094"\n  }\'')]),t._v("\n")])])]),e("p",[t._v("And that's it! You can issue a "),e("code",[t._v("GET /parties/MSISDN/639563943094")]),t._v(" call to ask Mojaloop to look up this party, and then request more informaton from "),e("code",[t._v("applebank")]),t._v(":")]),t._v(" "),e("p",[t._v('Let\'s issue this request "from" the '),e("code",[t._v("figmm")]),t._v(" DFSP, and look in the TTK for the callback: "),e("a",{attrs:{href:"here"}},[t._v("http://figmm-ttk.beta.moja-lab.live/admin/monitoring")]),t._v(".")]),t._v(" "),e("blockquote",[e("p",[t._v("Note:\nFeel free to change the "),e("code",[t._v("FSPIOP-Source")]),t._v(" field to get the sandbox talking to your own DFSP!\nFollow the "),e("RouterLink",{attrs:{to:"/3-guides/1_dfsp_setup/"}},[t._v("DFSP Setup Guide")]),t._v(" for instructions on how to do that.")],1)]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -v beta.moja-lab.live/api/fspiop/parties/MSISDN/639563943094 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Accept: application/vnd.interoperability.parties+json;version=1'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type: application/vnd.interoperability.parties+json;version=1.0'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FSPIOP-Source: figmm'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -H "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Date: 2021-01-01'")]),t._v("\n")])])]),e("p",[t._v("And the callback in the TTK:")]),t._v(" "),e("p",[e("img",{attrs:{src:s(312),alt:""}})])])}),[],!1,null,null,null);a.default=n.exports}}]);